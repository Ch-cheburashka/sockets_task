# Ремарочки ремарочки

Что было сделано правильно:

- В целом задача была решена, ООП не требовалось, так что даже не буду ничего по этому поводу говорить

Что можно сделать, чтобы ООП работало как надо:

1. !! Вспомнить, что такое ООП !! Эта методология постулирует манипуляцию объектам и контрактами между объектами
2. Определить, какие в программе будут объекты и какие между ними будут контракты. Объекты - классы\структуры, контракты между объектами - интерфейсы классов
3. Реализовать сначала интерфейсы, а потом только логику! Ты пишешь как бы "библиотеку". Надо сделать так, чтобы конечный пользователь (a.k.a глупый программист Вася) смог твою библиотеку скачать и понять по коду\интерфейсу, что и как работает
4. Логику при этом по максимуму инкапсулировать внутрь объектов\контрактов. Таким образом ты избавишь конечного ~~или конченного~~ Васю от лишних ошибок и читания твоего кода

Как это сделать? Приведу пример клиента:

Первое - основной объект, который будет всё связывать:

```c++

class client {
    private:
        // ...
    public:
        void send_message(...); // + разные перегрузки: отправка просто строки, либо сериализуемого объекта
        void receive_message(...); // здесь например таймаут или разные шаблонные параметры для десериализации сразу в структуру
        void connect(...); // таймаут, эндпоинт для подключения
        void disconnect(...);
};
```

Далее - объект контракта, tcp_client

```c++

class tcp_client {
    private:
    public:
        void send(); // более низкоуровневый слой, тут работаем только с char* или uint8*
        char* /* uint8* */ recv();
};
```